record(bo, "$(P)SIM")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
    field(ZNAM, "NO")
    field(ONAM, "YES")
    field(VAL, "$(RECSIM=0)")
}

record(bi, "$(P)DISABLE")
{
    field(DESC, "Disable Control")
    field(ZNAM, "Enable")
    field(ONAM, "Disable")
    field(OSV,  "MAJOR")
    field(VAL,  "0")
    field(PINI, "YES")
}

### CMDRSP 

record(mbbiDirect, "$(P)CMDRSP") 
{
    field(DESC, "Command Response")
}
record(calcout,"$(P):CLRRSP")
{
    field(DESC, "Clear Response")
    field(OUT,  "$(P)CMDRSP PP")
    field(CALC, "A")
    field(INPA, "1")
    field(PINI, "YES")
}
record(calc, "$(P)CMD") 
{
    field(DESC, "Command")
    field(CALC, "A>>4")
    field(INPA, "$(P)CMDRSP MS")
    field(SCAN, "1 second")
    field(PHAS, "2")
    field(FLNK, "$(P)RSPF")
}
record(bi, "$(P)RSPF")
{
    field(DESC, "Reset since ack power fail")
    field(INP,  "$(P)CMDRSP.B3 MS")
    field(ZNAM, "No")
    field(ONAM, "Yes")
    field(OSV,  "MAJOR")
    field(FLNK, "$(P)RSP")
}
record(mbbi, "$(P)RSP") 
{
    field(DESC, "Response")
    field(DTYP, "Raw Soft Channel")
    field(INP,  "$(P)CMDRSP MS")
    field(NOBT, "3")
    field(SHFT, "0")
    field(UNSV, "INVALID")
    field(ZRVL, "0")
    field(ONVL, "1")
    field(TWVL, "2")
    field(THVL, "3")
    field(FRVL, "4")
    field(FVVL, "5")
    field(SXVL, "6")
    field(ZRST, "Illegal RSP")
    field(ZRSV, "MAJOR")
    field(ONST, "OK")
    field(TWST, "Invallid Cmd")
    field(TWSV, "MAJOR")
    field(THST, "Syntax Error")
    field(THSV, "MAJOR")
    field(FRST, "Range Error")
    field(FRSV, "MINOR")
    field(FVST, "Inhibited")
    field(FVSV, "MINOR")
    field(SXST, "Obsolete Cmd")
    field(SXSV, "MINOR")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:RSP")
    field(SDIS, "$(P)DISABLE")
}

### COMMANDS 

record(stringin,"$(P)ID") 
{
    field(DESC, "Product ID")
    field(DTYP, "stream")
    field(INP,  "@cp2800.proto prod_id($(P)) $(PORT)")
    field(SCAN, "10 second")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:ID")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)POWER")
{
    field(DESC, "Compressor Power Status")
    field(DTYP, "stream")
    field(INP,  "@cp2800.proto comp_on($(P)) $(PORT)")
    field(SCAN, "1 second")
    field(ZNAM, "Off")
    field(ONAM, "On")
    field(ZSV,  "MAJOR")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:POWER")
    field(SDIS, "$(P)DISABLE")
}

record(longin, "$(P)ERR") 
{
    field(DESC, "Error")
    field(DTYP, "stream")
    field(INP,  "@cp2800.proto err_code($(P)) $(PORT)")
    field(SCAN, "10 second")
    field(HIGH, "1")
    field(LOLO, "-1")
    field(HSV,  "MINOR")
    field(LLSV, "MAJOR")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:ERR")
    field(SDIS, "$(P)DISABLE")
}

record(longin, "$(P)ELAPSED") 
{
    field(DESC, "Elapsed Time Compressor")
    field(DTYP, "stream")
    field(INP,  "@cp2800.proto comp_min($(P)) $(PORT)")
    field(SCAN, "10 second")
    field(EGU,  "min")
    field(HIHI, "1000000")
    field(LOLO, "-1")
    field(HIGH, "500000")
    field(LOW,  "-1")
    field(HHSV, "MAJOR")
    field(LLSV, "MAJOR")
    field(HSV,  "MINOR")
    field(LSV,  "MINOR")
    field(ADEL, "5")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:ELAPSED")
    field(SDIS, "$(P)DISABLE")
}


######### FOR FUTURE USE

# record(longin, "$(P):IN:TRAW") 
# {
#     field(DESC, "Inp Water Temperature (0.1C)")
#     field(DTYP, "stream")
#     field(INP,  "@cp2800.proto temp_0($(P)) $(PORT)")
#     field(SCAN, "1 second")
#     field(FLNK, "$(P):IN:T")
# }
# record(ai, "$(P):IN:T") 
# {
#     field(DESC, "Input Water Temperature")
#     field(DTYP, "Raw Soft Channel")
#     field(INP,  "$(P):IN:TRAW MS")
#     field(ASLO, "0.1")
#     field(HOPR, "100")
#     field(LOPR, "0")
#     field(PREC, "1")
#     field(EGU,  "C")
#     field(HIHI, "52")
#     field(LOLO, "-300")
#     field(HIGH, "29")
#     field(LOW,  "-290")
#     field(HHSV, "MAJOR")
#     field(LLSV, "MAJOR")
#     field(HSV,  "MINOR")
#     field(LSV,  "MINOR")
#     field(ADEL, "0.5")
# }

# record(longin, "$(P):OUT:TRAW") 
# {
#     field(DESC, "Out Water Temperature (0.1C)")
#     field(DTYP, "stream")
#     field(INP,  "@cp2800.proto temp_1($(P)) $(PORT)")
#     field(SCAN, "1 second")
#     field(FLNK, "$(P):OUT:T")
# }
# record(ai, "$(P):OUT:T") 
# {
#     field(DESC, "Output Water Temperature")
#     field(DTYP, "Raw Soft Channel")
#     field(INP,  "$(P):OUT:TRAW MS")
#     field(ASLO, "0.1")
#     field(HOPR, "100")
#     field(LOPR, "0")
#     field(PREC, "1")
#     field(EGU,  "C")
#     field(HIHI, "55")
#     field(LOLO, "-300")
#     field(HIGH, "50")
#     field(LOW,  "-290")
#     field(HHSV, "MAJOR")
#     field(LLSV, "MAJOR")
#     field(HSV,  "MINOR")
#     field(LSV,  "MINOR")
#     field(ADEL, "0.5")
# }

# record(longin, "$(P):HE:TRAW") 
# {
#     field(DESC, "He Temperature (0.1C)")
#     field(DTYP, "stream")
#     field(INP,  "@cp2800.proto temp_2($(P)) $(PORT)")
#     field(SCAN, "1 second")
#     field(FLNK, "$(P):HE:T")
# }
# record(ai, "$(P):HE:T") 
# {
#     field(DESC, "Helium Temperature")
#     field(DTYP, "Raw Soft Channel")
#     field(INP,  "$(P):HE:TRAW MS")
#     field(ASLO, "0.1")
#     field(HOPR, "100")
#     field(LOPR, "-300")
#     field(PREC, "1")
#     field(EGU,  "C")
#     field(HIHI, "88")
#     field(LOLO, "-300")
#     field(HIGH, "80")
#     field(LOW,  "-290")
#     field(HHSV, "MAJOR")
#     field(LLSV, "MAJOR")
#     field(HSV,  "MINOR")
#     field(LSV,  "MINOR")
#     field(ADEL, "0.5")
# }

# #
# record(longin, "$(P):OIL:TRAW") 
# {
#     field(DESC, "Oil Temperature (0.1C)")
#     field(DTYP, "stream")
#     field(INP,  "@cp2800.proto temp_3($(P)) $(PORT)")
#     field(SCAN, "1 second")
#     field(FLNK, "$(P):OIL:T")
# }
# record(ai, "$(P):OIL:T") 
# {
#     field(DESC, "Oil Temperature")
#     field(DTYP, "Raw Soft Channel")
#     field(INP,  "$(P):OIL:TRAW MS")
#     field(ASLO, "0.1")
#     field(HOPR, "100")
#     field(LOPR, "0")
#     field(PREC, "1")
#     field(EGU,  "C")
#     field(HIHI, "49")
#     field(LOLO, "7")
#     field(HIGH, "45")
#     field(LOW,  "9")
#     field(HHSV, "MAJOR")
#     field(LLSV, "MAJOR")
#     field(HSV,  "MINOR")
#     field(LSV,  "MINOR")
#     field(ADEL, "0.5")
# }

# record(longin, "$(P):LS:PAVRAW") 
# {
#     field(DESC, "Av LS Pressure (0.1psi)")
#     field(DTYP, "stream")
#     field(INP,  "@cp2800.proto h_alp($(P)) $(PORT)")
#     field(SCAN, "10 second")
#     field(FLNK, "$(P):LS:PAV")
# }
# record(ai, "$(P):LS:PAV") 
# {
#     field(DESC, "Average Low Side Pressure")
#     field(DTYP, "Raw Soft Channel")
#     field(INP,  "$(P):LS:PAVRAW MS")
#     field(ASLO, "0.1")
#     field(HOPR, "100")
#     field(LOPR, "0")
#     field(PREC, "1")
#     field(EGU,  "psi")
#     field(HIHI, "410")
#     field(LOLO, "80")
#     field(HIGH, "399")
#     field(LOW,  "90")
#     field(HHSV, "MAJOR")
#     field(LLSV, "MAJOR")
#     field(HSV,  "MINOR")
#     field(LSV,  "MINOR")
#     field(ADEL, "0.5")
# }

# #
# record(longin, "$(P):HS:PAVRAW") 
# {
#     field(DESC, "Av HS Pressure (0.1psi)")
#     field(DTYP, "stream")
#     field(INP,  "@cp2800.proto h_ahp($(P)) $(PORT)")
#     field(SCAN, "10 second")
#     field(FLNK, "$(P):HS:PAV")
# }
# record(ai, "$(P):HS:PAV") 
# {
#     field(DESC, "Average High Side Pressure")
#     field(DTYP, "Raw Soft Channel")
#     field(INP,  "$(P):HS:PAVRAW MS")
#     field(ASLO, "0.1")
#     field(HOPR, "100")
#     field(LOPR, "0")
#     field(PREC, "1")
#     field(EGU,  "psi")
#     field(HIHI, "410")
#     field(LOLO, "300")
#     field(HIGH, "399")
#     field(LOW,  "320")
#     field(HHSV, "MAJOR")
#     field(LLSV, "MAJOR")
#     field(HSV,  "MINOR")
#     field(LSV,  "MINOR")
#     field(ADEL, "0.5")
# }

### SIMULATION RECORDS ###

record(mbbi,"$(P)SIM:RSP")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(bi,"$(P)SIM:POWER")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(stringin,"$(P)SIM:ID")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(longin,"$(P)SIM:ELAPSED")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(longin,"$(P)SIM:ERR")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

